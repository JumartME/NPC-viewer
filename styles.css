.thumb.missing {
    display: grid; place-items: center; font-size: 10px; color: #6c757d;
}
.npc-row { cursor: pointer; }
.npc-name { font-weight: 700; }
.npc-meta { font-size: .85rem; color: #6c757d; }
.modal-img {
    width: 100%; height: auto; border-radius: 1rem;
    border: 1px solid rgba(0,0,0,.1); background: #f1f3f5;
}
.kv .k { color: #6c757d; }
.kv .v { font-weight: 500; }
.kv .row { padding-top: .25rem; padding-bottom: .25rem; border-bottom: 1px dashed rgba(0,0,0,.08); }
.kv .row:last-child { border-bottom: 0; }
.prewrap { white-space: pre-wrap; }


.party-tile {
    position: relative;
    border-radius: 1rem;
    overflow: hidden;
    border: 1px solid rgba(0,0,0,.12);
    background: #f1f3f5;
    cursor: pointer;
}
.party-img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    object-position: top;
    display: block;
}
.party-name {
    position: absolute;
    left: 0; right: 0; bottom: 0;
    padding: .5rem .75rem;
    color: white;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0,0,0,.75);
    background: linear-gradient(to top, rgba(0,0,0,.75), rgba(0,0,0,0));
}
.party-remove {
    position: absolute;
    top: .5rem;
    right: .5rem;
    background: rgba(255,255,255,.9);
    border-radius: .5rem;
    padding: .25rem .5rem;
}
.party-remove input { margin-right: .35rem; }

/* Replace list-group layout with a responsive grid of cards */
#list {
    display: grid;
    grid-template-columns: 1fr;
    gap: .5rem;
}

#list { display:grid; grid-template-columns:1fr; gap:.5rem; }
@media (min-width: 768px) { #list { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1200px){ #list { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 1600px){ #list { grid-template-columns: repeat(4, 1fr); } }

/* Make each item look like a card */
#list .npc-card {
    border-radius: .75rem;
    overflow: hidden;
    border: 1px solid rgba(0,0,0,.12);
    background: #fff;
}
.npc-meta {
    display: -webkit-box;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.npc-card {
    display: grid;
    grid-template-columns: 76px 1fr auto; /* image | text | button */
    grid-template-rows: auto auto;        /* top content | pills */
    gap: .5rem .5rem;                     /* row gap, col gap */
    padding: .5rem;                       /* tighter padding */
    border-radius: .75rem;
    border: 1px solid rgba(0,0,0,.12);
    background: #fff;
    
    /* equal height feel */
    min-height: 128px;                    /* tweak as you like */
}

.thumb {
    grid-column: 1;
    grid-row: 1 / span 2;
    height: 100%;
    width: 80px;
    border-radius: .6rem;
    background: #f1f3f5;
    border: 1px solid rgba(0,0,0,.10);
    /* remove extra flex sizing */
    overflow:hidden;
}    

.thumb .img {
    height:200%;
    width: 100%;
    object-fit: cover;
    object-position: 50% 0%;   /* üëà fokus upp√•t = ‚Äúthigh-up‚Äù */
}

.npc-top {
    display: grid;
    grid-template-columns: 56px 1fr auto;
    gap: .75rem;
    align-items: start;
}

.npc-mid {
    grid-column: 2;
    grid-row: 1;
    min-width: 0;
    padding-right: .25rem; /* very small space next to thumbnail */
}

.npc-meta {
    display: -webkit-box;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.npc-bottom {
    grid-column: 2 / span 2;
    grid-row: 2;
    margin-top: 0;
    padding-top: .35rem;
    border-top: 1px dashed rgba(0,0,0,.12);
    
    display: flex;
    justify-content: space-between;
    gap: .4rem;
    flex-wrap: wrap;
}
.npc-bottom .badge {
    font-size: .72rem;
    padding: .32em .55em;
}
.npc-pills-left, .npc-pills-right {
    display: flex;
    gap: .4rem;
    flex-wrap: wrap;
    align-items: center;
}

.party-btn {
    grid-column: 3;
    grid-row: 1;
    align-self: start;
    white-space: nowrap;
}


.traits-grid {
    display: grid;
    grid-template-columns: 1fr; /* mobile: 1 col */
    gap: .35rem .75rem;
}

@media (min-width: 992px) {   /* lg+ */
    .traits-grid {
        grid-template-columns: repeat(3, 1fr); /* wide: 3 cols */
    }
}

.trait-item {
    display: flex;
    justify-content: space-between;
    gap: .5rem;
    padding: .15rem 0;
    border-bottom: 1px dashed rgba(0,0,0,.08);
}

.trait-item .k { color: #6c757d; }
.trait-item .v { font-weight: 600; }
